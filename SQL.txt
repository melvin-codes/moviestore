DROP TABLE movies;
DROP TABLE genre;
DROP DATABASE mymovies;

CREATE DATABASE IF NOT EXISTS mymovies;

USE mymovies;

CREATE TABLE IF NOT EXISTS genre (
	genreId VARCHAR(20) NOT NULL PRIMARY KEY,
	description VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS movies (
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	title VARCHAR(100) NOT NULL,
	releaseYear INT NOT NULL,
	genreId VARCHAR(20) NOT NULL,
	updateDateTime DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	createDateTime DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
	CONSTRAINT `genreId_fk` FOREIGN KEY (`genreId`) REFERENCES `genre` (`genreId`)
); 

INSERT INTO genre (genreId, description)
VALUES
('Action','A movie with constant movement or activity.'),
('Comedy','A movie meant to make people laugh and feel good.'),
('Horror','A movie that causes feelings of fear, dread, and shock.'),
('Scifi','A fictional movie dealing with actual or imagined science.');

INSERT INTO movies (title, releaseYear, genreId)
VALUES
('The World Is Not Enough',1999,'Action'),
('The Jerk', 1979,'Comedy'),
('IT',2017,'Horror'),
('Encanto',2021,'Comedy'),
('Liar Liar',2002,'CoMedY');